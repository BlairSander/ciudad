@import "fonts";
@import "rouge-github";

body {
  background-color: #fff;
  padding:50px;
  font: 14px/1.5 "Noto Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
  color:#727272;
  font-weight:400;
}

h1, h2, h3, h4, h5, h6 {
  color:#222;
  margin:0 0 20px;
}

p, ul, ol, table, pre, dl {
  margin:0 0 20px;
}

h1, h2, h3 {
  line-height:1.1;
}

h1 {
  font-size:28px;
}

h2 {
  color:#393939;
}

h3, h4, h5, h6 {
  color:#494949;
}







// PLAYLISTTTTTTTTTTTTTTTTTTTTTTTTTTT

var eachElement = function eachElement(array, callback, scope) {
  if (scope == null) {
    scope = this;
  }

  var i = 0;
  return (function () {
    var result = [];

    while (i < array.length) {
      callback.call(scope, array[i], i);
      result.push(i++);
    }

    return result;
  })();
};

var Embed = function () {
  this.constructor = function () {
    this.elements = {
      tabs: document.querySelectorAll("#tabs .tCont"),
      actions: document.querySelectorAll("#actions a"),
      hl: document.querySelector(".hl"),
      pre: document.querySelectorAll("pre"),
      run: document.querySelector("#click-to-run .ctrCont"),
      embed: document.querySelector("#full-embed")
    };

    if (this.elements.embed){
      this.setupEvents();
      eachElement(this.elements.pre, function (element) {
        hljs.highlightBlock(element);
      });

      // reposition the highlight straight after load - no animation
      this.repositionHighlight(this.elements.actions[0], false);
      this.setHeight(this.elements.tabs[0]);
    }

    // specific to the standalone embed
    if (this.elements.run){
      self = this
      this.elements.run.addEventListener("click", function (event){
        self.loadResult();
        self.elements.run.parentNode.remove();
      });
    }
  };

  this.setupEvents = function () {
    var self = this;
    eachElement(this.elements.actions, function (action, index) {
      // switch tab
      action.addEventListener("click", function (event) {
        self.switchTab(event, action, index);
      });
    });

    // run results when it's the first tab in order
    if (
      (this.elements.actions[0] != null
        ? this.elements.actions[0].dataset.triggerType
        : undefined) === "result"
    ) {
      this.loadResult();
    }
  };

  this.setHeight = function (element) {
    var activeTab = element.getBoundingClientRect();
    var height = activeTab.height;

    window.parent.postMessage(
      [
        "embed",
        {
          slug, // set in layout
          height,
        },
      ],
      "*"
    );
  };

  this.predender = function () {
    var head = document.getElementsByTagName("head")[0];
    var prefetch = document.createElement("link");
    prefetch.setAttribute("rel", "prefetch");
    prefetch.setAttribute("href", show_src);
    head.appendChild(prefetch);

    var prerender = document.createElement("link");
    prerender.setAttribute("rel", "prerender");
    prerender.setAttribute("href", show_src);
    head.appendChild(prerender);
  };

  this.repositionHighlight = function (action, animated) {
    if (action) {
      // get size/pos data
      var position = action.getBoundingClientRect();

      // enable animation
      if (animated) {
        this.elements.hl.classList.add("animated");
      }

      this.elements.hl.style.left = position.left + "px";
      this.elements.hl.style.width = position.width + "px";
    }
  };

  this.loadResult = function (callback) {
    var iframes = document.querySelectorAll("#result iframe");
    var resultsFrame = document.createElement("iframe");
    var resultCont = document.querySelector("#result");

    // remove all previous iframes
    eachElement(iframes, function (iframe) {
      iframe.parentNode.removeChild(iframe);
    });

    var sandboxAttrs = ["allow-forms", "allow-scripts", "allow-same-origin", "allow-top-navigation-by-user-activation", "allow-downloads"];

    // don't allow alerts/confirms in fiddle listing on jsfiddle.net
    if (document.location.search.indexOf("disableModals") === -1) {
      sandboxAttrs.push("allow-modals", "allow-popups");
    }

    // apply some common props
    resultsFrame.src = show_src;
    resultsFrame.allowtransparency = true;
    resultsFrame.allowfullscreen = true;
    resultsFrame.allowpaymentrequest = true;
    resultsFrame.frameBorder = "0";
    resultsFrame.sandbox = sandboxAttrs.join(" ");
    resultsFrame.allow = "midi; geolocation; microphone; camera; display-capture; encrypted-media;";
    resultCont.appendChild(resultsFrame);

    if (callback) {
      resultsFrame.addEventListener("load", function () {
        callback.apply([this]);
      });
    }
  };

  this.switchTab = function (event, action, index) {
    event.preventDefault();
    event.stopPropagation();

    // reposition the highlight
    this.repositionHighlight(action, true);

    // set active state for tabs
    var actionParent = action.parentElement.parentElement.querySelectorAll(
      "li"
    );
    eachElement(this.elements.tabs, function (element) {
      element.classList.remove("active");
    });

    this.elements.tabs[index].classList.add("active");

    if (actionParent) {
      eachElement(actionParent, function (element) {
        element.classList.remove("active");
      });

      action.parentElement.classList.add("active");
    }

    this.setHeight(this.elements.tabs[index]);

    // load results when switcing to the resutls tab
    if (action.dataset.triggerType === "result") {
      this.loadResult();
    }
  };
};

window.addEventListener("DOMContentLoaded", function (event) {
  this.EmbedManager = new Embed();
  this.EmbedManager.constructor();
});

a {
  color:#267CB9;
  text-decoration:none;
}

a:hover, a:focus {
  color:#069;
  font-weight: bold;
}

a small {
  font-size:11px;
  color:#777;
  margin-top:-0.3em;
  display:block;
}

a:hover small {
  color:#777;
}

.wrapper {
  width:860px;
  margin:0 auto;
}

blockquote {
  border-left:1px solid #e5e5e5;
  margin:0;
  padding:0 0 0 20px;
  font-style:italic;
}

code, pre {
  font-family:Monaco, Bitstream Vera Sans Mono, Lucida Console, Terminal, Consolas, Liberation Mono, DejaVu Sans Mono, Courier New, monospace;
  color:#333;
}

pre {
  padding:8px 15px;
  background: #f8f8f8;
  border-radius:5px;
  border:1px solid #e5e5e5;
  overflow-x: auto;
}

table {
  width:100%;
  border-collapse:collapse;
}

th, td {
  text-align:left;
  padding:5px 10px;
  border-bottom:1px solid #e5e5e5;
}

dt {
  color:#444;
  font-weight:700;
}

th {
  color:#444;
}

img {
  max-width:100%;
}

header {
  width:270px;
  float:left;
  position:fixed;
  -webkit-font-smoothing:subpixel-antialiased;
}

ul.downloads {
  list-style:none;
  height:40px;
  padding:0;
  background: #f4f4f4;
  border-radius:5px;
  border:1px solid #e0e0e0;
  width:270px;
}

.downloads li {
  width:89px;
  float:left;
  border-right:1px solid #e0e0e0;
  height:40px;
}

.downloads li:first-child a {
  border-radius:5px 0 0 5px;
}

.downloads li:last-child a {
  border-radius:0 5px 5px 0;
}

.downloads a {
  line-height:1;
  font-size:11px;
  color:#676767;
  display:block;
  text-align:center;
  padding-top:6px;
  height:34px;
}

.downloads a:hover, .downloads a:focus {
  color:#675C5C;
  font-weight:bold;
}

.downloads ul a:active {
  background-color:#f0f0f0;
}

strong {
  color:#222;
  font-weight:700;
}

.downloads li + li + li {
  border-right:none;
  width:89px;
}

.downloads a strong {
  font-size:14px;
  display:block;
  color:#222;
}

section {
  width:500px;
  float:right;
  padding-bottom:50px;
}

small {
  font-size:11px;
}

hr {
  border:0;
  background:#e5e5e5;
  height:1px;
  margin:0 0 20px;
}

footer {
  width:270px;
  float:left;
  position:fixed;
  bottom:50px;
  -webkit-font-smoothing:subpixel-antialiased;
}

@media print, screen and (max-width: 960px) {

  div.wrapper {
    width:auto;
    margin:0;
  }

  header, section, footer {
    float:none;
    position:static;
    width:auto;
  }

  header {
    padding-right:320px;
  }

  section {
    border:1px solid #e5e5e5;
    border-width:1px 0;
    padding:20px 0;
    margin:0 0 20px;
  }

  header a small {
    display:inline;
  }

  header ul {
    position:absolute;
    right:50px;
    top:52px;
  }
}

@media print, screen and (max-width: 720px) {
  body {
    word-wrap:break-word;
  }

  header {
    padding:0;
  }

  header ul, header p.view {
    position:static;
  }

  pre, code {
    word-wrap:normal;
  }
}

@media print, screen and (max-width: 480px) {
  body {
    padding:15px;
  }

  .downloads {
    width:99%;
  }

  .downloads li, .downloads li + li + li {
    width:33%;
  }
}

@media print {
  body {
    padding:0.4in;
    font-size:12pt;
    color:#444;
  }
}
